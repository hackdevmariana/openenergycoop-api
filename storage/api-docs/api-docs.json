{
    "openapi": "3.0.0",
    "info": {
        "title": "OpenEnergyCoop API",
        "description": "API completa para la gestión de cooperativas energéticas con funcionalidades de CMS, equipos, desafíos y más.",
        "contact": {
            "name": "Soporte OpenEnergyCoop",
            "email": "soporte@openenergycoop.com"
        },
        "license": {
            "name": "MIT",
            "url": "https://opensource.org/licenses/MIT"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "/api/v1",
            "description": "Servidor API V1"
        }
    ],
    "paths": {
        "/api/v1/form-submissions": {
            "get": {
                "tags": [
                    "Form Submissions"
                ],
                "summary": "Listar envíos de formularios",
                "description": "Obtiene todos los envíos de formularios con filtros opcionales",
                "operationId": "099b694989dc7432fa847003fa02a080",
                "parameters": [
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filtrar por estado",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "pending",
                                "processed",
                                "archived"
                            ]
                        }
                    },
                    {
                        "name": "form_type",
                        "in": "query",
                        "description": "Filtrar por tipo de formulario",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "assigned_to",
                        "in": "query",
                        "description": "Filtrar por usuario asignado",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de envíos obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/FormSubmissionResource"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Sin permisos para ver formularios"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Form Submissions"
                ],
                "summary": "Crear nuevo envío de formulario",
                "description": "Registra un nuevo envío de formulario",
                "operationId": "aa3f4b9ac7b3ae479a46ed0119b5a4af",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "form_name",
                                    "form_type",
                                    "form_data"
                                ],
                                "properties": {
                                    "form_name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Formulario de Contacto"
                                    },
                                    "form_type": {
                                        "type": "string",
                                        "maxLength": 100,
                                        "example": "contact"
                                    },
                                    "form_data": {
                                        "type": "object",
                                        "example": {
                                            "mensaje": "Hola, necesito información"
                                        }
                                    },
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Juan Pérez",
                                        "nullable": true
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "juan@email.com",
                                        "nullable": true
                                    },
                                    "source_page": {
                                        "type": "string",
                                        "example": "/contacto",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Envío creado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/FormSubmissionResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Formulario enviado exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Errores de validación"
                    }
                }
            }
        },
        "/api/v1/form-submissions/{form_submission}": {
            "get": {
                "tags": [
                    "Form Submissions"
                ],
                "summary": "Ver envío de formulario específico",
                "description": "Obtiene los detalles de un envío de formulario específico",
                "operationId": "bd27afb5a8363633a869248f4789241c",
                "parameters": [
                    {
                        "name": "form_submission",
                        "in": "path",
                        "description": "ID del envío de formulario",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Envío obtenido exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/FormSubmissionResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Sin permisos para ver este envío"
                    },
                    "404": {
                        "description": "Envío no encontrado"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Form Submissions"
                ],
                "summary": "Actualizar envío de formulario",
                "description": "Actualiza el estado y metadatos de un envío de formulario",
                "operationId": "f8658882d7c5b55b2deea16917ae2db8",
                "parameters": [
                    {
                        "name": "form_submission",
                        "in": "path",
                        "description": "ID del envío de formulario",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "pending",
                                            "reviewed",
                                            "processed",
                                            "rejected"
                                        ],
                                        "example": "processed"
                                    },
                                    "assigned_to_user_id": {
                                        "type": "integer",
                                        "example": 1,
                                        "nullable": true
                                    },
                                    "internal_notes": {
                                        "type": "string",
                                        "example": "Revisado y aprobado",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Envío actualizado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/FormSubmissionResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Envío actualizado exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Sin permisos para actualizar este envío"
                    },
                    "404": {
                        "description": "Envío no encontrado"
                    },
                    "422": {
                        "description": "Errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Form Submissions"
                ],
                "summary": "Eliminar envío de formulario",
                "description": "Elimina permanentemente un envío de formulario",
                "operationId": "0a46daec95ffc53ecbdf539c7ae14e50",
                "parameters": [
                    {
                        "name": "form_submission",
                        "in": "path",
                        "description": "ID del envío de formulario",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Envío eliminado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Envío eliminado exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Sin permisos para eliminar este envío"
                    },
                    "404": {
                        "description": "Envío no encontrado"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/organization-features": {
            "get": {
                "tags": [
                    "Organization Features"
                ],
                "summary": "Listar características organizacionales",
                "description": "Obtiene todas las características disponibles para organizaciones",
                "operationId": "88638b1209252e066b42db1c1335a03a",
                "parameters": [
                    {
                        "name": "organization_id",
                        "in": "query",
                        "description": "Filtrar por organización",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "is_enabled",
                        "in": "query",
                        "description": "Filtrar por estado habilitado",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de características obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/OrganizationFeatureResource"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Organization Features"
                ],
                "summary": "Crear nueva característica organizacional",
                "description": "Registra una nueva característica para una organización",
                "operationId": "dd5799e2d84b5754f6cfe3d304684584",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "organization_id"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Gestión de Energía Solar"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Permite gestionar paneles solares",
                                        "nullable": true
                                    },
                                    "organization_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "is_enabled": {
                                        "type": "boolean",
                                        "example": true
                                    },
                                    "config": {
                                        "type": "object",
                                        "example": {
                                            "max_panels": 100
                                        },
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Característica creada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/OrganizationFeatureResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Característica creada exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/organization-features/{organization_feature}": {
            "get": {
                "tags": [
                    "Organization Features"
                ],
                "summary": "Ver característica organizacional específica",
                "description": "Obtiene los detalles de una característica organizacional específica",
                "operationId": "f946ed7e76877d89843735fe186effd0",
                "parameters": [
                    {
                        "name": "organization_feature",
                        "in": "path",
                        "description": "ID de la característica organizacional",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Característica obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/OrganizationFeatureResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Característica no encontrada"
                    }
                }
            },
            "put": {
                "tags": [
                    "Organization Features"
                ],
                "summary": "Actualizar característica organizacional",
                "description": "Actualiza una característica organizacional existente",
                "operationId": "16ae55ff7ce75d46565a0e1dca7b73b6",
                "parameters": [
                    {
                        "name": "organization_feature",
                        "in": "path",
                        "description": "ID de la característica organizacional",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "maxLength": 255,
                                        "example": "Gestión de Energía Eólica"
                                    },
                                    "description": {
                                        "type": "string",
                                        "example": "Permite gestionar turbinas eólicas",
                                        "nullable": true
                                    },
                                    "is_enabled": {
                                        "type": "boolean",
                                        "example": false
                                    },
                                    "config": {
                                        "type": "object",
                                        "example": {
                                            "max_turbines": 50
                                        },
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Característica actualizada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/OrganizationFeatureResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Característica actualizada exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Sin permisos para actualizar características"
                    },
                    "404": {
                        "description": "Característica no encontrada"
                    },
                    "422": {
                        "description": "Errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Organization Features"
                ],
                "summary": "Eliminar característica organizacional",
                "description": "Elimina permanentemente una característica organizacional",
                "operationId": "53996f35a8d8b32072922384a262db3c",
                "parameters": [
                    {
                        "name": "organization_feature",
                        "in": "path",
                        "description": "ID de la característica organizacional",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Característica eliminada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Característica eliminada exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Sin permisos para eliminar características"
                    },
                    "404": {
                        "description": "Característica no encontrada"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/team-challenge-progress": {
            "get": {
                "tags": [
                    "Team Challenge Progress"
                ],
                "summary": "Listar progreso de equipos en desafíos",
                "description": "Obtiene el progreso de todos los equipos en los desafíos",
                "operationId": "4208cf7b5b80af2bda5c542a7168ffbf",
                "parameters": [
                    {
                        "name": "team_id",
                        "in": "query",
                        "description": "Filtrar por equipo",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "challenge_id",
                        "in": "query",
                        "description": "Filtrar por desafío",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filtrar por estado",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "in_progress",
                                "completed",
                                "failed"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de progreso obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/TeamChallengeProgressResource"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Team Challenge Progress"
                ],
                "summary": "Registrar progreso de equipo en desafío",
                "description": "Registra o actualiza el progreso de un equipo en un desafío específico",
                "operationId": "bf63f7052cfd8ff26def435d2c290df3",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "team_id",
                                    "challenge_id"
                                ],
                                "properties": {
                                    "team_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "challenge_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "current_value": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 75.5,
                                        "nullable": true
                                    },
                                    "notes": {
                                        "type": "string",
                                        "example": "Progreso actualizado manualmente",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Progreso registrado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TeamChallengeProgressResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Progreso registrado exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/team-challenge-progress/{team_challenge_progress}": {
            "get": {
                "tags": [
                    "Team Challenge Progress"
                ],
                "summary": "Ver progreso específico de equipo en desafío",
                "description": "Obtiene el progreso detallado de un equipo en un desafío específico",
                "operationId": "c510edf62b7b71e893ebd48863e71cda",
                "parameters": [
                    {
                        "name": "team_challenge_progress",
                        "in": "path",
                        "description": "ID del progreso del equipo",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Progreso obtenido exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TeamChallengeProgressResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Progreso no encontrado"
                    }
                }
            },
            "put": {
                "tags": [
                    "Team Challenge Progress"
                ],
                "summary": "Actualizar progreso de equipo en desafío",
                "description": "Actualiza el progreso de un equipo en un desafío específico",
                "operationId": "2dc20870b3098847535675189cea8de9",
                "parameters": [
                    {
                        "name": "team_challenge_progress",
                        "in": "path",
                        "description": "ID del progreso del equipo",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "current_value": {
                                        "type": "number",
                                        "format": "float",
                                        "example": 85,
                                        "nullable": true
                                    },
                                    "notes": {
                                        "type": "string",
                                        "example": "Progreso actualizado por el líder del equipo",
                                        "nullable": true
                                    },
                                    "status": {
                                        "type": "string",
                                        "enum": [
                                            "active",
                                            "completed",
                                            "failed",
                                            "paused"
                                        ],
                                        "example": "active"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Progreso actualizado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TeamChallengeProgressResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Progreso actualizado exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Progreso no encontrado"
                    },
                    "422": {
                        "description": "Errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Team Challenge Progress"
                ],
                "summary": "Eliminar progreso de equipo en desafío",
                "description": "Elimina el registro de progreso de un equipo en un desafío",
                "operationId": "b4f38c32ea7c1ee3e748451431adf555",
                "parameters": [
                    {
                        "name": "team_challenge_progress",
                        "in": "path",
                        "description": "ID del progreso del equipo",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Progreso eliminado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Progreso eliminado exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Progreso no encontrado"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/team-challenge-progress/leaderboard/{challengeId}": {
            "get": {
                "tags": [
                    "Team Challenge Progress"
                ],
                "summary": "Obtener tabla de posiciones del desafío",
                "description": "Obtiene la tabla de posiciones de equipos para un desafío específico",
                "operationId": "15ee51d643ebbea0bf76a8c2b0c765e3",
                "parameters": [
                    {
                        "name": "challengeId",
                        "in": "path",
                        "description": "ID del desafío",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Número máximo de equipos a mostrar (máx. 50)",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10,
                            "maximum": 50,
                            "minimum": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tabla de posiciones obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/TeamChallengeProgressResource"
                                            }
                                        },
                                        "challenge_id": {
                                            "type": "integer",
                                            "example": 1
                                        },
                                        "total": {
                                            "type": "integer",
                                            "example": 5
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/team-challenge-progress/{teamChallengeProgress}/update-progress": {
            "post": {
                "tags": [
                    "Team Challenge Progress"
                ],
                "summary": "Actualizar progreso con incremento",
                "description": "Actualiza el progreso de un equipo incrementando el valor actual",
                "operationId": "ecb9aa45e191c66d8eed5e5fcc6b9799",
                "parameters": [
                    {
                        "name": "teamChallengeProgress",
                        "in": "path",
                        "description": "ID del progreso del equipo",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "increment"
                                ],
                                "properties": {
                                    "increment": {
                                        "type": "number",
                                        "format": "float",
                                        "minimum": 0,
                                        "example": 10.5
                                    },
                                    "notes": {
                                        "type": "string",
                                        "example": "Progreso actualizado por actividad completada",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Progreso actualizado exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TeamChallengeProgressResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Progreso actualizado exitosamente"
                                        },
                                        "previous_value": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 75
                                        },
                                        "increment": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 10.5
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Progreso no encontrado"
                    },
                    "422": {
                        "description": "Errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/team-memberships": {
            "get": {
                "tags": [
                    "Team Memberships"
                ],
                "summary": "Listar membresías de equipos",
                "description": "Obtiene todas las membresías de equipos con filtros opcionales",
                "operationId": "2f1c7d96a6c86f64f1753e64ef51e85b",
                "parameters": [
                    {
                        "name": "team_id",
                        "in": "query",
                        "description": "Filtrar por equipo",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "user_id",
                        "in": "query",
                        "description": "Filtrar por usuario",
                        "required": false,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "role",
                        "in": "query",
                        "description": "Filtrar por rol",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "leader",
                                "member",
                                "moderator"
                            ]
                        }
                    },
                    {
                        "name": "is_active",
                        "in": "query",
                        "description": "Filtrar por estado activo",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Lista de membresías obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/TeamMembershipResource"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Team Memberships"
                ],
                "summary": "Crear nueva membresía de equipo",
                "description": "Registra un nuevo miembro en un equipo",
                "operationId": "079feab3164203cc88ec477139d6c123",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "team_id",
                                    "user_id",
                                    "role"
                                ],
                                "properties": {
                                    "team_id": {
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "user_id": {
                                        "type": "integer",
                                        "example": 2
                                    },
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "member",
                                            "leader",
                                            "admin"
                                        ],
                                        "example": "member"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Membresía creada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TeamMembershipResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Membresía creada exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "El usuario ya es miembro del equipo o errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/team-memberships/{team_membership}": {
            "get": {
                "tags": [
                    "Team Memberships"
                ],
                "summary": "Ver membresía específica",
                "description": "Obtiene los detalles de una membresía de equipo específica",
                "operationId": "46b2818e13b412f21723117a3720f6d6",
                "parameters": [
                    {
                        "name": "team_membership",
                        "in": "path",
                        "description": "ID de la membresía",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Membresía obtenida exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TeamMembershipResource"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Membresía no encontrada"
                    }
                }
            },
            "put": {
                "tags": [
                    "Team Memberships"
                ],
                "summary": "Actualizar membresía de equipo",
                "description": "Actualiza el rol o estado de una membresía de equipo",
                "operationId": "12e528a45ba8a200ac7a163fb61bc8ca",
                "parameters": [
                    {
                        "name": "team_membership",
                        "in": "path",
                        "description": "ID de la membresía",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "role": {
                                        "type": "string",
                                        "enum": [
                                            "member",
                                            "leader",
                                            "admin"
                                        ],
                                        "example": "leader"
                                    },
                                    "is_active": {
                                        "type": "boolean",
                                        "example": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Membresía actualizada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "data": {
                                            "$ref": "#/components/schemas/TeamMembershipResource"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Membresía actualizada exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Membresía no encontrada"
                    },
                    "422": {
                        "description": "Errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            },
            "delete": {
                "tags": [
                    "Team Memberships"
                ],
                "summary": "Eliminar membresía de equipo",
                "description": "Elimina permanentemente una membresía de equipo",
                "operationId": "21495defcb78ae923a3bde519b5d566f",
                "parameters": [
                    {
                        "name": "team_membership",
                        "in": "path",
                        "description": "ID de la membresía",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Membresía eliminada exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Membresía eliminada exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Membresía no encontrada"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/v1/team-memberships/leave": {
            "post": {
                "tags": [
                    "Team Memberships"
                ],
                "summary": "Abandonar equipo",
                "description": "Permite al usuario autenticado abandonar un equipo",
                "operationId": "dceda542f33e567fa50cdd0436b4e479",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "team_id"
                                ],
                                "properties": {
                                    "team_id": {
                                        "type": "integer",
                                        "example": 1
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Has abandonado el equipo exitosamente",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Has abandonado el equipo exitosamente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "No eres miembro de este equipo o errores de validación"
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "FormSubmissionResource": {
                "title": "Form Submission Resource",
                "description": "Resource de envío de formulario",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "form_name": {
                        "type": "string",
                        "example": "Formulario de Contacto"
                    },
                    "form_type": {
                        "type": "string",
                        "example": "contact"
                    },
                    "form_data": {
                        "type": "object",
                        "example": {
                            "mensaje": "Hola, necesito información"
                        }
                    },
                    "user_id": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "name": {
                        "type": "string",
                        "example": "Juan Pérez",
                        "nullable": true
                    },
                    "email": {
                        "type": "string",
                        "example": "juan@email.com",
                        "nullable": true
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "pending",
                            "reviewed",
                            "processed",
                            "rejected"
                        ],
                        "example": "pending"
                    },
                    "source_page": {
                        "type": "string",
                        "example": "/contacto",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    }
                },
                "type": "object"
            },
            "OrganizationFeatureResource": {
                "title": "Organization Feature Resource",
                "description": "Resource de característica organizacional",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Gestión de Energía Solar"
                    },
                    "description": {
                        "type": "string",
                        "example": "Permite gestionar paneles solares",
                        "nullable": true
                    },
                    "organization_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "is_enabled": {
                        "type": "boolean",
                        "example": true
                    },
                    "config": {
                        "type": "object",
                        "example": {
                            "max_panels": 100
                        },
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    }
                },
                "type": "object"
            },
            "TeamChallengeProgressResource": {
                "title": "Team Challenge Progress Resource",
                "description": "Resource de progreso de equipo en desafío",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "team_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "challenge_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "current_value": {
                        "type": "number",
                        "format": "float",
                        "example": 75.5,
                        "nullable": true
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "active",
                            "completed",
                            "failed",
                            "paused"
                        ],
                        "example": "active"
                    },
                    "notes": {
                        "type": "string",
                        "example": "Progreso actualizado manualmente",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    }
                },
                "type": "object"
            },
            "TeamMembershipResource": {
                "title": "Team Membership Resource",
                "description": "Resource de membresía de equipo",
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "team_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "user_id": {
                        "type": "integer",
                        "example": 2
                    },
                    "role": {
                        "type": "string",
                        "enum": [
                            "member",
                            "leader",
                            "admin"
                        ],
                        "example": "member"
                    },
                    "is_active": {
                        "type": "boolean",
                        "example": true
                    },
                    "joined_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    },
                    "left_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": null,
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2024-01-15T10:30:00Z"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "sanctum": {
                "type": "http",
                "description": "Autenticación mediante Laravel Sanctum",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Form Submissions",
            "description": "Gestión de envíos de formularios"
        },
        {
            "name": "Organization Features",
            "description": "Gestión de características organizacionales"
        },
        {
            "name": "Team Challenge Progress",
            "description": "Gestión del progreso de equipos en desafíos"
        },
        {
            "name": "Team Memberships",
            "description": "Gestión de membresías de equipos"
        }
    ]
}